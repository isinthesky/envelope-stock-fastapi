# ============================================
# KIS Trading API Service - 환경 변수 설정
# ============================================

# 애플리케이션 설정
APP_NAME="KIS Trading API Service"
APP_VERSION="0.1.0"
ENV=development  # development, staging, production
DEBUG=true

# 서버 설정
HOST=0.0.0.0
PORT=8000

# Database (PostgreSQL)
DATABASE_URL=postgresql+asyncpg://kis_user:kis_password@localhost:5432/kis_trading
DATABASE_ECHO=false  # SQLAlchemy 쿼리 로그 출력 (개발 시 true)

# Redis Cache
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=50

# 캐시 TTL (초)
CACHE_TTL_MARKET_DATA=5      # 시세 데이터 (5초)
CACHE_TTL_ACCOUNT=30         # 계좌 정보 (30초)
CACHE_TTL_TOKEN=86400        # 토큰 (24시간)

# KIS API 설정 (실전투자)
KIS_APP_KEY=your_real_app_key_here
KIS_APP_SECRET=your_real_app_secret_here
KIS_ACCOUNT_NO=12345678  # 8자리 계좌번호
KIS_PRODUCT_CODE=01      # 01: 종합계좌, 03: 선물옵션, 08: 해외선물옵션
KIS_HTS_ID=your_hts_id

# KIS API 설정 (모의투자)
KIS_PAPER_APP_KEY=your_paper_app_key_here
KIS_PAPER_APP_SECRET=your_paper_app_secret_here
KIS_PAPER_ACCOUNT_NO=11111111
KIS_PAPER_HTS_ID=your_hts_id

# KIS API URL
KIS_PROD_URL=https://openapi.koreainvestment.com:9443
KIS_VPS_URL=https://openapivts.koreainvestment.com:29443
KIS_PROD_WS_URL=ws://ops.koreainvestment.com:21000
KIS_VPS_WS_URL=ws://ops.koreainvestment.com:31000

# KIS API Rate Limit
KIS_API_RATE_LIMIT=20        # 분당 호출 제한
KIS_API_RETRY_COUNT=3        # 실패 시 재시도 횟수
KIS_API_TIMEOUT=10           # API 호출 타임아웃 (초)

# 자동매매 설정
TRADING_ENVIRONMENT=vps      # prod: 실전투자, vps: 모의투자
AUTO_REAUTH=true             # 토큰 자동 갱신
SMART_SLEEP=0.1              # API 호출 간격 (초)

# 리스크 관리
RISK_DAILY_LOSS_LIMIT=1000000     # 일일 최대 손실 한도 (원)
RISK_MAX_POSITIONS=10             # 최대 보유 종목 수
RISK_MAX_ORDER_AMOUNT=10000000    # 단일 주문 최대 금액 (원)

# JWT 인증 (추후 구현)
JWT_SECRET_KEY=your-secret-key-here-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# CORS 설정
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8000"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET", "POST", "PUT", "DELETE", "OPTIONS"]
CORS_ALLOW_HEADERS=["*"]

# 로깅 설정
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE=logs/kis_trading.log
LOG_MAX_BYTES=10485760  # 10MB
LOG_BACKUP_COUNT=5

# 대시보드 설정
DASHBOARD_ENABLED=true
DASHBOARD_REFRESH_INTERVAL=5  # 초

# WebSocket 설정
WS_MAX_CONNECTIONS=100
WS_PING_INTERVAL=30
WS_PING_TIMEOUT=10

# 개발 도구
UVICORN_RELOAD=true
UVICORN_WORKERS=1
